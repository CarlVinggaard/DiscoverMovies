<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <!-- BOOTSTRAP -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" 
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <!-- VUE -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

    <!-- VUETIFY -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" rel="stylesheet">
    <!-- <link href="https://cdn.jsdelivr.net/npm/@mdi/font@4.x/css/materialdesignicons.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css" rel="stylesheet"> -->

    <!-- VUEX -->
    <script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.auto.js"></script>
    <script src="https://unpkg.com/vuex"></script>

    <!-- AXIOS -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

    <!-- MOMENT 
    <script src="moment.js"></script>
    <script>
        moment().format();
    </script> -->

    <!-- CUSTOM CS -->
    <link rel="stylesheet" type="text/css" href="style.css">

    <title>Discover Movies!</title>
</head>
<body>

    <main class="container-fluid px-sm-5" id="app">
        
        <div class="row justify-content-center">
            <div class="col-12 col-md-10 col-lg-8">
                <h1 class="uppercase my-3 col-12 text-center">Discover Movies</h1>
                <div class="input-group mb-3">
                    <label for="title">Search by title</label>
                    <input type="text" v-model="query" class="form-control" placeholder="Title" name="title">
                </div>
                <div class="col-12 my-3 text-center">
                    <button v-on:click="getData('search')" class="btn btn-search py-2 px-5 uppercase">Search</button>
                </div>

                <h2 class="uppercase text-center">or</h2>

                <label for="filters">Discover by year, genre or popularity!</label>
                <div class="input-group mb-3" name="filters">
                    <input type="text" v-model="releaseYear" class="form-control mb-3" placeholder="Year of Release">
                    <input type="text" v-model="minRating" class="form-control mb-3" placeholder="Minimum Rating (0 - 10)">
                    <input type="text" v-model="genre" class="form-control mb-3" placeholder="Genre">
                    <select type="text" v-model="sortBy" class="form-control mb-3">
                        <option value="" disabled>Sort by</option>
                        <option value="popularity.desc">Popularity</option>
                        <option value="release_date.desc">Release date (most recent first)</option>
                        <option value="revenue.desc">Revenue</option>
                        <option value="vote_average.desc">Average Rating</option>
                    </select>
                </div>
                <div class="col-12 my-3 text-center">
                    <button v-on:click="getData('discover')" class="btn btn-search py-2 px-5 uppercase">Search</button>
                </div>
            </div>
        </div>
        
         
        <div id="result-list">

            <div v-if="totalResults" class="row justify-content-center">
                <div class="col-12 col-md-10 col-lg-8 w-100 text-left">
                    <p>Total results: {{ totalResults }}</p>
                </div> 
            </div>

            <movie-item
            v-for="item in results.page1"
            v-bind:poster_path="item.poster_path"
            v-bind:title="item.title"
            v-bind:release_date="item.release_date"
            v-bind:vote_average="item.vote_average"
            v-bind:overview="item.overview"
            ></movie-item>

            <!--
            <div v-if="results.page1">
                <div v-for="item in results.page1">
                    
                    <div class="row justify-content-center mx-2">
                        <div class="result-item col-12 col-md-10 col-lg-8 py-3 px-4 my-2">
                            <div class="row">
                                <div class="col-4 img-container">
                                    <img class="w-100" :src="'https://image.tmdb.org/t/p/w500' + item.poster_path">
                                </div>
                                <div class="col-8">
                                    <h4>{{item.title}} <span class="year">({{item.release_date.slice(0, 4)}})</span></h4>
                                    <h5>Rating: {{item.vote_average}}</h5>
                                    <h6>Summary</h6>
                                    <p>{{item.overview}}</p>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div> -->

        </div>

    </main>









<!-- ********************************* -->

    <div id="app-1">
        <p>{{ message }}</p>
    </div>

    <div id="app-2">
        <span v-bind:title="message">
            Hover your mouse over me for a few seconds
            to see my dynamically bound title!
        </span>
    </div>

    <div id="app-3">
        <span v-if="seen">Now you see me</span>
    </div>

    <div id="app-5">
        <p>{{ message }}</p>
        <button v-on:click="reverseMessage">Reverse Message</button>
    </div>

    <script src="main.js"></script>
    <script src="genres.js"></script>
    <script src="getGenreID.js"></script>
    <script src="replaceSpacesWithPlusses.js"></script>
    
</body>
</html>